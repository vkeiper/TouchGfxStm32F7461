/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/main_screen/MainViewBase.hpp>
#include <touchgfx/Color.hpp>
#include "BitmapDatabase.hpp"

MainViewBase::MainViewBase()  :
    buttonCallback(this, &MainViewBase::buttonCallbackHandler)
{
    background.setPosition(0, 0, 480, 272);
    background.setColor(touchgfx::Color::getColorFrom24BitRGB(255, 255, 255));

    imgBackGround.setXY(0, 0);
    imgBackGround.setBitmap(Bitmap(BITMAP_ATDI_TEMPLATE480X272_ID));

    buttonAdjust.setPosition(410, 204, 50, 50);
    buttonAdjust.setBitmaps(Bitmap(BITMAP_GEAR_50X50_ID), Bitmap(BITMAP_GEAR_50X50_ID));
    buttonAdjust.setAction(buttonCallback);

    onOffButton.setPosition(23, 205, 50, 50);
    onOffButton.setBitmaps(Bitmap(BITMAP_OFFBTN_50X50_ID), Bitmap(BITMAP_ONBTN_50X50_ID));
    onOffButton.setAction(buttonCallback);

    bulbYellow.setXY(18, 68);
    bulbYellow.setVisible(false);
    bulbYellow.setBitmap(Bitmap(BITMAP_PEARE_GUL_ID));

    bulbWhite.setXY(18, 68);
    bulbWhite.setBitmap(Bitmap(BITMAP_PEARE_HVID_ID));

    anImgAtdiLogo.setXY(106, 200);
    anImgAtdiLogo.setBitmaps(BITMAP_ATDI_LOGO1_ID, BITMAP_ATDI_LOGO_2_ID);
    anImgAtdiLogo.setUpdateTicksInterval(20);
    anImgAtdiLogo.startAnimation(false, true, true);

    animatedImage1.setXY(165, 16);
    animatedImage1.setBitmaps(BITMAP_ATOMLYR01_ID, BITMAP_ATOMLYR12_ID);
    animatedImage1.setUpdateTicksInterval(4);
    animatedImage1.startAnimation(false, true, true);

    add(background);
    add(imgBackGround);
    add(buttonAdjust);
    add(onOffButton);
    add(bulbYellow);
    add(bulbWhite);
    add(anImgAtdiLogo);
    add(animatedImage1);
}

void MainViewBase::buttonCallbackHandler(const touchgfx::AbstractButton& src)
{
    if (&src == &buttonAdjust)
    {
        //AdjustClicked
        //When buttonAdjust clicked change screen to screenMenu
        //Go to screenMenu with slide screen transition towards East
        application().gotoscreenMenuScreenSlideTransitionEast();
    }
    else if (&src == &onOffButton)
    {
        //toggleBulbColor
        //When onOffButton clicked execute C++ code
        //Execute C++ code
        bulbYellow.setVisible(!bulbYellow.isVisible());
        bulbWhite.setVisible(!bulbWhite.isVisible());
        bulbWhite.invalidate();
        bulbYellow.invalidate();

        //ChangeRoomLight
        //When onOffButton clicked call virtual function
        //Call updateRoomLight
        updateRoomLight();
    }
}
